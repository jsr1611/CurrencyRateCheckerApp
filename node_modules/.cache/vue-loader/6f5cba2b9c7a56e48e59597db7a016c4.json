{"remainingRequest":"/Users/jimhome_mac/IntelliJIDEAProjects/CurrencyExchangeRateCheckerApp/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/jimhome_mac/IntelliJIDEAProjects/CurrencyExchangeRateCheckerApp/frontend/src/components/Currencies.vue?vue&type=style&index=0&id=727f4b1f&lang=css","dependencies":[{"path":"/Users/jimhome_mac/IntelliJIDEAProjects/CurrencyExchangeRateCheckerApp/frontend/src/components/Currencies.vue","mtime":1642430999764},{"path":"/Users/jimhome_mac/IntelliJIDEAProjects/CurrencyExchangeRateCheckerApp/frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jimhome_mac/IntelliJIDEAProjects/CurrencyExchangeRateCheckerApp/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":499162500000},{"path":"/Users/jimhome_mac/IntelliJIDEAProjects/CurrencyExchangeRateCheckerApp/frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/jimhome_mac/IntelliJIDEAProjects/CurrencyExchangeRateCheckerApp/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jimhome_mac/IntelliJIDEAProjects/CurrencyExchangeRateCheckerApp/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmgzIHsKICBtYXJnaW46IDQwcHggMCAwOwp9CnVsIHsKICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7CiAgcGFkZGluZzogMDsKfQpsaSB7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIG1hcmdpbjogMCAxMHB4Owp9CmEgewogIGNvbG9yOiAjNDJiOTgzOwp9Cg=="},{"version":3,"sources":["/Users/jimhome_mac/IntelliJIDEAProjects/CurrencyExchangeRateCheckerApp/frontend/src/components/Currencies.vue"],"names":[],"mappings":";AAsHA,CAAC,EAAE;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;AAClB;AACA,CAAC,EAAE;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AACZ;AACA,CAAC,EAAE;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;AAChB;AACA,EAAE;EACA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAChB","file":"/Users/jimhome_mac/IntelliJIDEAProjects/CurrencyExchangeRateCheckerApp/frontend/src/components/Currencies.vue","sourceRoot":"","sourcesContent":["<template>\n <div class=\"container fluid bg-secondary text-white bg-opacity-75\">\n    <div class=\"row my-5\"> <h3>Currency Exchange Rate Checker App</h3></div>\n    <div class=\"row mb-3\"> \n      <div class=\"col-sm-2 m-1 p-1\">\n        <input v-model=\"userInputAmount\" placeholder=\"Summani kiriting...\">  \n      </div>\n      <div class=\"col-sm-2 m-1 p-1\">\n        <input v-model=\"userInput\" placeholder=\"Valyuta kodini yoki davlat nomini kiriting...\">  \n      </div>\n      <div class=\"col-sm-1 align-self-center\"> \n\n        =>\n\n      </div>\n      <div class=\"col-sm-2 m-1 p-1\">\n        <input v-model=\"userInput2\" placeholder=\"Valyuta kodini yoki davlat nomini kiriting...\">  \n      </div>\n      <div class=\"col-sm-3 m-1 p-1\">\n        <input v-model=\"userInputValue\" placeholder=\"Natija\"> \n      </div>\n      \n    </div>\n    <div class=\"row my-2\"> </div>\n    <div class=\"row mb-3\"> \n      <p>Natija: {{ userInputValueDetailed }}</p>\n    </div>\n    <button type=\"button\" @click=\"update\" class=\"btn btn-primary mx-2\">Update rates</button>\n    <h6 class=\"my-3\">Last updated: {{this.updateDate}}</h6>\n    <!-- <div>\n        <a v-bind:href=\"'https://cbu.uz/'\" target=\"_blank\">\n          <img v-bind:src=\"'https://cbu.uz/oz/informer/?txtclr=212121&brdclr=FFC700&bgclr=FFE27D&r_choose=USD_EUR_RUB'\">\n        </a>\n    </div> -->\n</div>\n</template>\n\n<script>\nconst axios = require('axios');\nexport default {\n  name: 'Currencies',\n  data() {\n    return {\n      userInput:\"USD\",\n      userInput2: \"UZS\",\n      userInputAmount: 1,\n      userInputValueTemp:0,\n      userInputValue: \"\",\n      userInputValueDetailed: \"\",\n      currencies: [],\n      ccy_dto:{\n        currencyCode: \"\",\n        nameUz: \"\",\n        nameEn: \"\",\n        nominal: 1,\n        rate: 0.0,\n        diff: 0.0,\n        updatedAt: \"\"\n      },\n      updateDate: \"\"\n    }\n  },\n  watch:{\n    userInput: function(ccy){\n      this.displayResults(ccy, this.userInput2);\n    },\n    userInput2:function(ccy){\n      this.displayResults(this.userInput, ccy);\n    }\n  },\n  mounted(){\n    this.update();\n  },\n  methods: {\n        displayResults: function(ccy, ccy2){\n          console.log(ccy + ' ===> ' + ccy2);\n          if(ccy != undefined && ccy2 != undefined){\n          console.log(ccy + ' ===> ' + ccy2);\n          let notFound = true;\n            for(let i=0; i < this.currencies.length; i++){\n              if(ccy.toLowerCase() == this.currencies[i].currencyCode.toLowerCase() || this.currencies[i].nameUz.toLowerCase().startsWith(ccy.toLowerCase())){\n                for(let j=0; j < this.currencies.length; j++){\n                  if(ccy2.toLowerCase() == this.currencies[j].currencyCode.toLowerCase() || this.currencies[j].nameUz.toLowerCase().startsWith(ccy2.toLowerCase())){\n                    this.userInputValueTemp = this.userInputAmount * this.currencies[i].rate;\n                    this.userInputValue = Number(this.userInputValueTemp / (this.userInputAmount * this.currencies[j].rate)).toLocaleString() + \" \" + this.currencies[j].nameUz;\n                    this.userInputValueDetailed =  (Number(this.currencies[i].nominal * this.userInputAmount).toLocaleString() + \" \" +  this.currencies[i].nameUz + \" (\" +this.currencies[i].currencyCode+ \") \" + \" = \" + this.userInputValue);\n                    //  + \" (\" + (this.currencies[i].diff > 0 ? ( \"+\" + this.currencies[i].diff) : this.currencies[i].diff) + \")\"\n                    notFound = false;\n                    break;\n                }\n                \n              }\n              if(notFound){\n                this.userInputValue = \"Davlat nomi yoki valyuta kodiga mos natija topilmadi.\"\n              }\n            }\n          }\n        }\n        },\n        update: function(){\n            axios\n            .get(`http://uz-currency-converter-backend.herokuapp.com/updaterates`)\n            .then((response) => {\n              console.log(response.data);\n              this.currencies = response.data;\n              this.updateDate = new Date().toString();\n              this.displayResults(this.userInput);\n            }).catch((error) =>{\n              console.log(error);\n              console.log('error getting data from API');\n            });\n        }\n    }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"]}]}